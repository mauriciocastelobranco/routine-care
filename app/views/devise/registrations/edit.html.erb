<div class="auth-page">
  <div class="auth-shell">

    <div class="patients-top">
      <%= link_to "‚¨Ö Voltar ao in√≠cio", root_path, class: "patients-back" %>
    </div>

    <div class="auth-card">
      <div class="auth-header">
        <h1 class="auth-title">Editar perfil</h1>
        <p class="auth-subtitle">Atualize seus dados de acesso</p>
      </div>

      <%= simple_form_for(resource,
            as: resource_name,
            url: registration_path(resource_name),
            html: { method: :put }) do |f| %>

        <%= f.error_notification %>

        <div class="auth-fields">
          <%= f.input :email,
                label: "E-mail",
                required: true,
                autofocus: true %>

          <%= f.input :photo,
                as: :file,
                label: "Foto de perfil" %>

          <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
            <p class="auth-hint">
              Aguardando confirma√ß√£o para: <%= resource.unconfirmed_email %>
            </p>
          <% end %>

          <%= f.input :password,
                label: "Nova senha",
                hint: "Deixe em branco se n√£o quiser alterar",
                required: false,
                input_html: { autocomplete: "new-password" } %>

          <%= f.input :password_confirmation,
                label: "Confirmar nova senha",
                required: false,
                input_html: { autocomplete: "new-password" } %>

          <%= f.input :current_password,
                label: "Senha atual",
                hint: "Digite sua senha atual para confirmar as altera√ß√µes",
                required: true,
                input_html: { autocomplete: "current-password" } %>
        </div>

        <!-- üîΩ LINHA DOS BOT√ïES -->
       <div class="auth-actions" style="display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:16px;">
  <%= f.button :submit,
        "Salvar altera√ß√µes",
        class: "btn-primary",
        style: "flex:1; max-width:48%;" %>

  <%= button_to "Excluir minha conta",
        registration_path(resource_name),
        method: :delete,
        data: { confirm: "Tem certeza que deseja excluir sua conta?" },
        class: "btn-primary",
        style: "flex:1; max-width:48%; background-color:#dc2626; border-color:#dc2626; color:white;" %>
</div>

        <!-- üîº FIM DA LINHA DOS BOT√ïES -->

      <% end %>
    </div>

  </div>
</div>
