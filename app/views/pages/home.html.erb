<div class="rc-shell">
  <%= render "components/iphone_frame" do %>

    <!-- HEADER -->
    <div class="d-flex align-items-center justify-content-between pt-2 pb-2">
      <div class="d-flex align-items-center gap-2">
        <!-- Logo simples; se quiser, trocamos por image_tag -->
        <div class="rounded-circle bg-success d-flex align-items-center justify-content-center"
             style="width: 40px; height: 40px;">
          <span class="fw-bold text-white">RC</span>
        </div>
        <div>
          <h1 class="h6 mb-0 text-dark">Routine Care</h1>
          <p class="text-muted small mb-0">Bem-vindo(a) de volta!</p>
        </div>
      </div>

      <!-- BotÃ£o de notificaÃ§Ãµes (sem popover e switches por enquanto) -->
      <div class="position-relative rounded-circle bg-light d-flex align-items-center justify-content-center"
           style="width: 40px; height: 40px;">
        <span class="text-success fs-6">ðŸ””</span>
        <span class="position-absolute top-0 end-0 rounded-circle bg-danger border border-white"
              style="width: 10px; height: 10px;"></span>
      </div>
    </div>

    <!-- WELCOME BANNER -->
    <div class="position-relative mt-3 bg-primary text-white rounded-4 p-4 overflow-hidden">
      <div class="position-relative" style="max-width: 60%;">
        <h2 class="h5 fw-bold mb-1">
          OlÃ¡, <%= current_user&.first_name || "UsuÃ¡rio" %>!
        </h2>
        <p class="small mb-0" style="opacity: .9;">
          Organizando a rotina e a saÃºde de quem cuida e de quem precisa de cuidado.
        </p>
      </div>

      <% if current_user&.avatar.present? %>
        <%= image_tag current_user.avatar,
                      alt: "Perfil",
                      class: "position-absolute end-0 bottom-0 rounded-circle border border-white",
                      style: "width: 95px; height: 95px; object-fit: cover;" %>
      <% else %>
        <%= image_tag "doctor-illustration.png",
                      alt: "Doutora",
                      class: "position-absolute",
                      style: "right: -12px; bottom: -8px; height: 130px; object-fit: contain;" %>
      <% end %>

      <!-- cÃ­rculos decorativos -->
      <div class="position-absolute top-0 end-50 rounded-circle bg-white"
           style="width: 60px; height: 60px; opacity: 0.1;"></div>
      <div class="position-absolute bottom-0 start-0 rounded-circle bg-white"
           style="width: 90px; height: 90px; opacity: 0.1; transform: translate(-30%, 30%);"></div>
    </div>

    <!-- MENU PRINCIPAL -->
    <div class="mt-4 flex-grow-1">
      <h3 class="text-muted small fw-semibold mb-2 px-1">Menu Principal</h3>

      <div class="d-flex flex-column">
        <%= render "components/menu_card",
          title:       "Adicionar Paciente",
          description: "Cadastre um novo paciente",
          icon_emoji:  "âž•",
          path:        "#" %>

        <%= render "components/menu_card",
          title:       "Meus Pacientes",
          description: "Veja todos os seus pacientes",
          icon_emoji:  "ðŸ‘¥",
          path:        patients_path %>

        <%= render "components/menu_card",
          title:       "RelatÃ³rios",
          description: "Acompanhe os relatÃ³rios",
          icon_emoji:  "ðŸ“„",
          path:        "#" %>

        <%= render "components/menu_card",
          title:       "ConfiguraÃ§Ãµes",
          description: "Ajustes do aplicativo",
          icon_emoji:  "âš™ï¸",
          path:        "#" %>
      </div>
    </div>

    <div style="height: 12px;"></div>

    <div class="bg-card p-3 rounded-4">
  <p class="text-muted-foreground small mb-0">
    Texto usando o design system ðŸ’š
  </p>
</div>


  <% end %>
</div>
