<div class="patients-page">
  <div class="patients-shell">

    <div class="patients-top">
      <%= link_to "â¬… Voltar ao inÃ­cio", root_path, class: "patients-back" %>

      <div class="patients-header">
        <div>
          <h1 class="patients-title">Pacientes</h1>
          <p class="patients-subtitle">Ãrea do administrador â€¢ gerencie os pacientes cadastrados</p>
        </div>

        <%= link_to "Adicionar paciente", new_patient_path, class: "patients-cta" %>
      </div>
    </div>

    <div class="patients-card">
      <% if @patients.any? %>
        <ul class="patients-list">
          <% @patients.each do |patient| %>
            <li class="patients-row">
              <div class="patients-main">
                <div class="patients-avatar" aria-hidden="true">
                  <%= patient.name.to_s.strip.first&.upcase || "P" %>
                </div>

                <div class="patients-info">
                  <%= link_to patient.name, patient_path(patient), class: "patients-name" %>
                  <div class="patients-meta">Clique no nome para ver detalhes</div>
                </div>
              </div>

              <div class="patients-actions">
                <%= link_to "Ver", patient_path(patient), class: "btn-soft" %>

                <%= button_to "Excluir",
                      patient_path(patient),
                      method: :delete,
                      data: { turbo: false },
                      form: { class: "inline-form" },
                      onclick: "return confirm('Tem certeza que deseja excluir esse paciente?');",
                      class: "btn-danger-soft" %>
              </div>
            </li>
          <% end %>
        </ul>
      <% else %>
        <div class="patients-empty">
          <div class="patients-empty-icon" aria-hidden="true">ğŸ‘¤</div>
          <h2>Nenhum paciente cadastrado</h2>
          <p>Comece adicionando o primeiro paciente para gerenciar cuidados.</p>
        </div>
      <% end %>
    </div>

  </div>
</div>
