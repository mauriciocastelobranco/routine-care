<%# app/views/components/_menu_card.html.erb %>
<%# Locals esperados:
#  title:        String         (obrigatÃ³rio)
#  description:  String         (obrigatÃ³rio)
#  path:         String/Path    (obrigatÃ³rio - rota Rails)
#  icon_emoji:   String         (opcional, ex: "ðŸ‘¥", "âž•")
#  icon_image:   String         (opcional, ex: "ui/add-patient.png")
#  extra_class:  String         (opcional, pra classes extras)
%>

<%
  # pega os locals se existirem, senÃ£o vira nil
  icon_image  = local_assigns[:icon_image]
  icon_emoji  = local_assigns[:icon_emoji]
  extra_class = local_assigns[:extra_class]
%>

<%= link_to path, class: ["w-100 text-decoration-none", extra_class].compact.join(" ") do %>
  <div class="d-flex align-items-center justify-content-between bg-white border rounded-4 shadow-sm px-3 py-3 mb-2"
       style="transition: all 0.3s ease;">
    <!-- ÃCONE ESQUERDO -->
    <div class="d-flex align-items-center justify-content-center flex-shrink-0 rounded-3"
         style="width: 48px; height: 48px; background-color: #E8F5E9;">
      <% if icon_image.present? %>
        <%= image_tag icon_image,
                      alt: title,
                      style: "width: 24px; height: 24px; object-fit: contain;" %>
      <% elsif icon_emoji.present? %>
        <span style="font-size: 22px;"><%= icon_emoji %></span>
      <% else %>
        <span style="font-size: 20px;">ðŸ“Œ</span>
      <% end %>
    </div>

    <!-- TEXTO CENTRAL -->
    <div class="flex-grow-1 min-w-0 px-2">
      <p class="mb-0 fw-semibold text-dark" style="font-size: 14px;"><%= title %></p>
      <p class="mb-0 small text-muted text-truncate"><%= description %></p>
    </div>

    <!-- SETINHA DIREITA -->
    <div class="d-flex align-items-center justify-content-center flex-shrink-0 rounded-circle"
         style="width: 32px; height: 32px; background-color: rgba(0,0,0,0.04);">
      <svg style="width: 16px; height: 16px; color: #198754;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 5l7 7-7 7" />
      </svg>
    </div>
  </div>
<% end %>
